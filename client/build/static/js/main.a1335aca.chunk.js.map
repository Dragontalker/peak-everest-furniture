{"version":3,"sources":["components/GlobalStore.js","components/Navbar.js","components/NavbarExtension.js","components/ShoppingCart.js","components/ShopPage/index.js","components/RegisterPage/index.js","components/LoginPage/index.js","components/ProductPage/index.js","components/AdminPage/AccessDenied.js","components/AdminPage/ProductList.js","components/AdminPage/TransactionsList.js","components/AdminPage/Charts.js","components/AdminPage/index.js","App.js","index.js"],"names":["initialData","winX","window","innerWidth","winY","innerHeight","loggedIn","username","openShopCart","openNavExt","dataReducer","state","action","type","Error","StoreContext","createContext","StoreProvider","props","useReducer","dispatch","useEffect","handleResize","addEventListener","removeEventListener","Provider","value","useStoreContext","useContext","Navbar","store","updateStore","handleLogout","className","exact","to","activeClassName","onClick","NavbarExtension","navExt","useRef","useState","visible","setVisible","closeExt","logout","current","classList","add","setTimeout","remove","ref","style","textAlign","ShoppingCart","shoppingCart","cartData","setCartData","setStore","a","console","log","id","newCart","filter","entry","productid","price","heading","transactionid","length","map","item","transform","slice","handleCancel","total","forEach","toFixed","calculateTotal","bannerData","desc","img","ShopPage","products","setProducts","fetch","then","r","json","data","init","autoPlay","centerMode","centerSlidePercentage","infiniteLoop","transitionTime","interval","showArrows","showThumbs","showStatus","each","idx","src","alt","product","image","RegisterPage","name","email","password","repassword","handleChange","event","target","setState","checkValidateEmail","RegExp","test","alert","checkValidatePassword","submitForm","e","preventDefault","onSubmit","htmlFor","placeholder","onChange","this","Component","LoginPage","showErr","setShowErr","pw","ProductPage","useParams","setProduct","url","description","AccessDenied","ProductList","setTotal","productData","unitsSold","profit","trans","status","scope","quantity","TransactionsList","setTrans","refreshData","transData","productname","userid","Date","timestamp","toLocaleDateString","toLocaleTimeString","transSold","Charts","setTransData","newData","push","bought","sold","cancelled","BarChart","width","height","XAxis","dataKey","tick","YAxis","Tooltip","Legend","Bar","fill","AdminPage","hasAccess","setAccess","prodRes","error","transRes","App","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a1335aca.chunk.js","sourcesContent":["import { createContext, useReducer, useContext, useEffect } from \"react\";\r\n\r\nconst initialData = {\r\n  winX:window.innerWidth, \r\n  winY:window.innerHeight,\r\n  loggedIn:false,\r\n  username: \"[User]\",\r\n  openShopCart:false,\r\n  openNavExt:false\r\n};\r\n\r\n/*! IMPORTANT all your reducer functionality goes here */\r\nconst dataReducer = (state, action) => {\r\n  switch (action.type) {\r\n  case \"resize\":\r\n    return {...state, winX:window.innerWidth, winY:window.innerHeight};\r\n  case \"logout\":\r\n    return {...state, loggedIn:false};\r\n  case \"login\":\r\n    return {...state, loggedIn:true};\r\n  case \"toggle-shop-cart\":\r\n    return {...state, openShopCart: !state.openShopCart};\r\n  case \"toggle-nav-ext\":\r\n    return {...state, openNavExt: !state.openNavExt};\r\n  default:\r\n    throw new Error(`Invalid action type: ${action.type}`);\r\n  }\r\n}\r\n\r\nconst StoreContext = createContext();\r\n\r\nconst StoreProvider = function(props){\r\n  const [state, dispatch] = useReducer( dataReducer, initialData );\r\n  useEffect(() => {\r\n    // add listeners for window resize\r\n    function handleResize() { dispatch({type:\"resize\"}) };\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  })\r\n  return <StoreContext.Provider value={[state, dispatch]} {...props} />;\r\n}\r\n\r\nconst useStoreContext = function(){ return useContext(StoreContext) };\r\n\r\nexport { StoreProvider, useStoreContext }","import { NavLink } from \"react-router-dom\";\r\nimport { useStoreContext } from \"./GlobalStore\";\r\n\r\nfunction Navbar() {\r\n\r\n  const [store, updateStore] = useStoreContext();\r\n\r\n  function handleLogout() {\r\n    if (store.openShopCart) updateStore({type:\"toggle-shop-cart\"});\r\n    updateStore({type:\"logout\"});\r\n  }\r\n\r\n  function openShopCart() {\r\n    updateStore({type:\"toggle-shop-cart\"});\r\n  }\r\n\r\n  function openNavExt() {\r\n    updateStore({type:\"toggle-nav-ext\"});\r\n  }\r\n\r\n  function renderNavigation() {\r\n    if (store.winX > 800 && store.loggedIn) return(\r\n      <div className=\"navbar-nav\">\r\n        <NavLink exact to=\"/\" className=\"nav-link\" activeClassName=\"disabled\">Home</NavLink>\r\n        <button className=\"btn nav-link\" onClick={openShopCart}>Shopping Cart</button>\r\n        <button className=\"btn nav-link\" onClick={handleLogout}>Logout</button>\r\n      </div>\r\n    )\r\n    else if (store.winX > 800) return (\r\n      <div className=\"navbar-nav\">\r\n        <NavLink exact to=\"/\" className=\"nav-link\" activeClassName=\"disabled\">Home</NavLink>\r\n        <NavLink to=\"/register\" className=\"nav-link\" activeClassName=\"disabled\">Register</NavLink>\r\n        <NavLink to=\"/login\" className=\"nav-link\" activeClassName=\"disabled\">Login</NavLink>\r\n      </div>\r\n    )\r\n    else return (\r\n      <div className=\"navbar-nav\">\r\n        <button className=\"btn navbar-toggler-icon\" onClick={openNavExt}></button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return(\r\n    <nav className=\"navbar navbar-expand navbar-dark bg-dark main-nav\">\r\n      <div className=\"container-fluid\">\r\n        {/* Logo/Branding */}\r\n        <span className=\"navbar-brand\">Peak Everest Furnitures</span>\r\n        {/* Navlinks */}\r\n        {renderNavigation()}\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar;","import { useRef, useState, useEffect } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useStoreContext } from \"./GlobalStore\";\r\n\r\nfunction NavbarExtension() {\r\n\r\n  const navExt = useRef(null);\r\n  const [store, updateStore] = useStoreContext();\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (store.openNavExt) setVisible(true);\r\n    else if (visible && !store.openNavExt) {\r\n      navExt.current.classList.add(\"nav-ext-close\");\r\n      setTimeout(() => { \r\n        navExt.current.classList.remove(\"nav-ext-close\");\r\n        setVisible(false);\r\n      }, 290);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [store.openNavExt])\r\n\r\n  function closeExt() { updateStore({type:\"toggle-nav-ext\"}); }\r\n\r\n  function openShopCart() {\r\n    updateStore({type:\"toggle-shop-cart\"});\r\n    updateStore({type:\"toggle-nav-ext\"});\r\n  }\r\n\r\n  function logout() {\r\n    updateStore({type:\"logout\"});\r\n    updateStore({type:\"toggle-nav-ext\"});\r\n    if (store.openShopCart) updateStore({type:\"toggle-shop-cart\"});\r\n  }\r\n\r\n  function renderNavLinks() {\r\n    if (store.loggedIn) return(\r\n      <div className=\"navbar-nav col\">\r\n        <NavLink exact to=\"/\" className=\"nav-link\" activeClassName=\"disabled\" onClick={closeExt}>Home</NavLink>\r\n        <button className=\"btn nav-link\" onClick={openShopCart} style={{textAlign:\"right\"}}>Shopping Cart</button>\r\n        <button className=\"btn nav-link\" onClick={logout} style={{textAlign:\"right\"}}>Logout</button>\r\n      </div>\r\n    )\r\n    else return (\r\n      <div className=\"navbar-nav col\">\r\n        <NavLink exact to=\"/\" className=\"nav-link\" activeClassName=\"disabled\" onClick={closeExt}>Home</NavLink>\r\n        <NavLink to=\"/register\" className=\"nav-link\" activeClassName=\"disabled\" onClick={closeExt}>Register</NavLink>\r\n        <NavLink to=\"/login\" className=\"nav-link\" activeClassName=\"disabled\" onClick={closeExt}>Login</NavLink>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (visible && store.winX < 800) return(\r\n    <div className=\"navbar navbar-dark bg-dark nav-extend\" ref={navExt}>\r\n      <div className=\"container-fluid\">\r\n        {renderNavLinks()}\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n  else {\r\n    return null;\r\n  }\r\n\r\n}\r\n\r\nexport default NavbarExtension;","import { useState, useEffect, useRef } from 'react';\r\nimport { useStoreContext } from './GlobalStore';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction ShoppingCart() {\r\n\r\n  const shoppingCart = useRef(null);\r\n  const [visible, setVisible] = useState(false);\r\n  const [cartData, setCartData] = useState([]);\r\n  const [store, setStore] = useStoreContext();\r\n\r\n  useEffect(() => {\r\n    if (store.openShopCart) setVisible(true);\r\n    else if (visible && !store.openShopCart) {\r\n      shoppingCart.current.classList.add(\"shop-cart-close\");\r\n      setTimeout(() => { \r\n        shoppingCart.current.classList.remove(\"shop-cart-close\");\r\n        setVisible(false);\r\n      }, 290);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [store.openShopCart])\r\n\r\n  useEffect(() => {\r\n    if (store.loggedIn) {\r\n      // fetch cartData using userid\r\n      console.log(\"fetching cart data\");\r\n      setCartData([\r\n        {id:\"123a\", productid:\"1203-2343\", price:10.95, heading:\"Bosch Refrigerator\", transactionid:\"111\"},\r\n        {id:\"321b\", productid:\"1203-2344\", price:12.45, heading:\"Graco SnugRide\", transactionid:\"222\"}\r\n      ]);\r\n    }\r\n  }, [store.loggedIn])\r\n\r\n  async function handleCheckout() {\r\n    console.log(\"checkout all shopping cart items\");\r\n    // SET transaction status to \"BOUGHT\"\r\n    // REMOVE entry from shopping cart\r\n    // FETCH new shoppingcart\r\n    setCartData([]);\r\n  }\r\n\r\n  async function handleCancel(id) {\r\n    console.log(\"cancel shopping cart item\", id);\r\n    // SET transaction status to \"CANCELLED\"\r\n    // REMOVE entry from shopping cart\r\n    // FETCH new shoppingcart\r\n    let newCart = cartData.filter(entry => entry.id !== id);\r\n    setCartData(newCart);\r\n  }\r\n\r\n  function calculateTotal() {\r\n    let total = 0;\r\n    cartData.forEach(entry => {\r\n      total += entry.price;\r\n    })\r\n    return total.toFixed(2);\r\n  }\r\n\r\n  if (visible) {\r\n    return(\r\n      <div className=\"shop-cart-body\" ref={shoppingCart}>\r\n        <h4 className=\"mt-2 mb-3\">Shopping Cart</h4>\r\n        <ul className=\"list-group\">\r\n          {cartData.length ? '' : <span className=\"text-muted\">No items in your cart </span> }\r\n          {cartData.map(item => \r\n            <li className=\"list-group-item d-flex shop-cart-item\" key={item.id}>\r\n              <div className=\"flex-fill ms-2 mt-1\" style={{transform:\"rotate(0)\"}}>\r\n                <p className=\"card-text\">\r\n                  {item.heading.length < 23 ? item.heading : item.heading.slice(0,22) + \"...\"}\r\n                </p>\r\n                <Link className=\"stretched-link\" to={\"/product/\"+item.productid} \r\n                  onClick={() => setStore({type:\"toggle-shop-cart\"})}>Go to product page</Link>\r\n              </div>\r\n              <div className=\"mt-auto\">\r\n                <p className=\"text-end me-2\">${item.price}</p>\r\n                <button className=\"btn btn-sm link-danger\" onClick={() => handleCancel(item.id)}>Remove</button>\r\n              </div>\r\n            </li>\r\n          )}\r\n        </ul>\r\n        <div className=\"checkout-container\">\r\n          <p>Total: ${calculateTotal()} </p>\r\n          <button className=\"btn btn-light\" onClick={handleCheckout}>Checkout</button>\r\n        </div>\r\n        \r\n      </div>\r\n    )\r\n  }\r\n  else return null;\r\n  \r\n}\r\n\r\nexport default ShoppingCart;","import { Carousel } from \"react-responsive-carousel\";\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\r\nimport \"./shop.css\"\r\nimport { useEffect, useState } from 'react'\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nconst bannerData = [\r\n  {heading:\"Banner #1\", desc:\"Extra info 1\", img:\"https://www.hermanmiller.com/content/dam/hmicom/page_assets/products/categories/gaming/it_cmp_gaming_motia_gaming_table.jpg\"},\r\n  {heading:\"Banner #2\", desc:\"Extra info 2\", img:\"https://i.gyazo.com/cc114cc01d65fa4820be8652151b61b0.png\"},\r\n  {heading:\"Banner #3\", desc:\"Extra info 3\", img:\"https://i.gyazo.com/97b764beb0a96af871fec590c7e217c3.png\"}\r\n]\r\n\r\nfunction ShopPage() {\r\n  const [products, setProducts] = useState([])\r\n\r\n  useEffect(function () {\r\n    init()\r\n  }, [])\r\n\r\n  async function init() {\r\n    const url = '/api/products'\r\n    const data = await fetch(url).then(r=>r.json())\r\n    console.log(data)\r\n    setProducts(data)\r\n  }\r\n\r\n  return(\r\n    <div className=\"shop-page mt-3\">\r\n      <Carousel autoPlay centerMode centerSlidePercentage={100} infiniteLoop transitionTime={800} interval={3000}\r\n        showArrows={false} showThumbs={false} showStatus={false}>\r\n        {/* create slides */}\r\n        {bannerData.map((each,idx) => \r\n          <div key={idx} className=\"slide-item\">\r\n            <div className=\"desc\">\r\n              <h5>{each.heading}</h5>\r\n              <p>{each.desc}</p>\r\n            </div>\r\n            <img src={each.img} alt=\"product\" />\r\n          </div>\r\n        )}\r\n      </Carousel>\r\n      <hr/>\r\n      <div className=\"all-products-list mb-3\">\r\n        <h1>All Products</h1>\r\n          <div className=\"row\">\r\n            {products && products.map((product, idx) => \r\n              <div key={idx} className=\"col-12 col-sm-6 col-md-4 col-lg-3\">\r\n                <div className=\"card\">\r\n                  <div className=\"shop-card-img\">\r\n                    <img src={product.image[0]} className=\"card-img-top img-fluid\" alt={product.heading} />\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <h5 className=\"card-title\">{product.heading}</h5>\r\n                    <p className=\"card-text\"> ${product.price}</p>\r\n                    <Link to={\"/product/\"+product.id} className=\"stretched-link\">See Product</Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ShopPage","import {React, Component} from 'react';\r\n\r\n\r\nclass RegisterPage extends Component {\r\n  // state\r\n  state = {\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    repassword: ''\r\n  }\r\n  // functions\r\n  handleChange = (event) => {\r\n    const {name, value} = event.target\r\n    this.setState({\r\n      [name]: value\r\n    })\r\n  }\r\n\r\n  checkValidateEmail = () => {\r\n    const {email} = this.state\r\n    const regex = new RegExp('.+@.+\\\\..+')\r\n  \r\n    if (!regex.test(email)) {\r\n      alert('Invalid email format')\r\n    }\r\n  }\r\n\r\n  checkValidatePassword = () => {\r\n    const {password, repassword} = this.state\r\n    if (password !== repassword) {\r\n      alert(\"Password does not match\")\r\n      return false\r\n    }\r\n    return true\r\n  }\r\n\r\n  submitForm = (e) => {\r\n    e.preventDefault();\r\n    console.log(\"attempting to sign up\");\r\n    if (!this.checkValidateEmail()) {\r\n      return;\r\n    }\r\n    if (!this.checkValidatePassword()) {\r\n      return;\r\n    }\r\n\r\n    console.log('form submited')\r\n  }\r\n\r\n  // render\r\n  render() {\r\n    return(\r\n      <div className=\"card mt-3 login-body\">\r\n        <div className=\"card-body\">\r\n          <h5 className=\"card-title mb-3\">Sign Up</h5>\r\n          <form onSubmit={(e) => this.submitForm(e)}>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"displayNameInput\" className=\"form-label\">Display name</label>\r\n              <input name='name' type=\"text\" className=\"form-control\" id=\"displayNameInput\" placeholder=\"name\" onChange={this.handleChange}/>\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"emailInput\" className=\"form-label\">Email</label>\r\n              <input name='email' type=\"email\" className=\"form-control\" id=\"emailInput\" placeholder=\"name@example.com\" onChange={this.handleChange}/>\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"passwordInput\" className=\"form-check-label\" >Password</label>\r\n              <input name='password' type=\"password\" className=\"form-control\" id=\"passwordInput\" placeholder=\"********\" onChange={this.handleChange}/>\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"passwordReinput\" className=\"form-check-label\" >Confirm Password</label>\r\n              <input name='repassword' type=\"password\" className=\"form-control\" id=\"passwordReinput\" placeholder=\"********\" onChange={this.handleChange}/>\r\n            </div>\r\n            <div className=\"text-center mb-3\">\r\n              <button className=\"btn btn-dark\">Register</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\nexport default RegisterPage;","import { useRef, useState } from \"react\";\r\nimport { useStoreContext } from '../GlobalStore';\r\nimport './login.css';\r\n\r\nfunction LoginPage() {\r\n\r\n  const [, setStore] = useStoreContext();\r\n  const [showErr, setShowErr] = useState(false);\r\n\r\n  const email = useRef(null);\r\n  const pw = useRef(null);\r\n\r\n  function submitForm(e) {\r\n    e.preventDefault();\r\n    console.log(`trying to login with email: ${email.current.value} & password: ${pw.current.value}`);\r\n    setShowErr(true);\r\n    setStore({type:\"login\"});\r\n  }\r\n\r\n  return(\r\n    <div className=\"card mt-3 login-body\">\r\n      <div className=\"card-body\">\r\n        <h5 className=\"card-title mb-3\">Login</h5>\r\n        <form onSubmit={e => submitForm(e)}>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"emailInput\" className=\"form-label\">Email address</label>\r\n            <input type=\"email\" className=\"form-control\" id=\"emailInput\" ref={email} placeholder=\"name@example.com\" />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"passwordInput\" className=\"form-label\">Password</label>\r\n            <input type=\"password\" className=\"form-control\" ref={pw} id=\"passwordInput\" placeholder=\"********\" />\r\n            {showErr ? <span className=\"login-err\">Error: account not found</span> : \"\"}\r\n          </div>\r\n          <div className=\"text-center mb-3\">\r\n            <button className=\"btn btn-dark\">Login</button>\r\n          </div>\r\n        </form>\r\n        <div className=\"text-center mb-3\">\r\n          <button className=\"btn btn-secondary\">Create a new account</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoginPage;","import { useEffect, useState } from 'react';\r\nimport { useParams } from \"react-router\"\r\nimport './productPage.css'\r\n\r\nfunction ProductPage() {\r\n  const { id } = useParams();\r\n  const [product, setProduct] = useState({});\r\n\r\n  useEffect(() => {\r\n    init()\r\n    // eslint-disable-next-line\r\n  },[])\r\n\r\n  async function init() {\r\n    const url = `/api/products/${id}`\r\n    const data = await fetch(url).then(r=>r.json())\r\n    console.log(data)\r\n    setProduct(data)\r\n  }\r\n\r\n  return(\r\n      <div className=\"card mb-3 card-background\">\r\n        <div className=\"row g-0\">\r\n          <div className=\"col-md-6\">\r\n            {/* <img src={product.img} alt={product.name} */}\r\n            {product.image && product.image.map( img => <img className=\"productPage-img\" src={img} alt={product.name} />)}\r\n          </div>\r\n          <div className=\"col-md-6\">\r\n            <div className=\"card-body\">\r\n              {/* <h1 className=\"card-title\">product.name</h1>\r\n              <h5>product.price</h5>\r\n              <p className=\"card-text\">Description:</p>\r\n              <p className=\"card-text\">product.description</p>\r\n              <br/> */}\r\n              <h1 className=\"card-title\">{product.heading}</h1>\r\n              <h5>${product.price}</h5>\r\n              <p className=\"card-text\">Description:</p>\r\n              <p className=\"card-text\">{product.description}</p>\r\n              <br/>\r\n              <button className=\"btn btn-dark product-button\">Add to Cart</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default ProductPage;","\r\nfunction AccessDenied() {\r\n  return(\r\n    <div className=\"mt-3\" style={{textAlign:\"center\"}}>\r\n      <h2 className=\"mx-auto\">Access Denied</h2>\r\n      <p>You do not have access to this page. Please login with an administrative account.</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AccessDenied;","import { useEffect, useState } from \"react\";\r\n\r\nfunction ProductList(props) {\r\n\r\n  const [products, setProducts] = useState([]);\r\n  const [total, setTotal] = useState(0);\r\n\r\n  useEffect(() => {\r\n    let productData = props.products;\r\n    // consolidate data\r\n    let total = 0;\r\n    productData.forEach(product => {\r\n      product.unitsSold = 0;\r\n      product.profit = 0;\r\n      props.trans.forEach(entry => {\r\n        if (product.id === entry.productid && (entry.status===\"BOUGHT\" || entry.status===\"SOLD\")) product.unitsSold += 1;\r\n      })\r\n      product.profit = product.unitsSold*product.price;\r\n      total += product.profit;\r\n    })\r\n    // set extended products array\r\n    setProducts(productData);\r\n    setTotal(total.toFixed(2));\r\n  }, [props])\r\n\r\n  return(\r\n    <div className=\"admin-product-list table-responsive\">\r\n      <div className=\"header\">\r\n        <h5>Product List</h5> \r\n        <button className=\"btn btn-sm btn-dark\">Add New Product</button>\r\n      </div>\r\n      \r\n      <table className=\"table table-sm\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">ID</th>\r\n            <th scope=\"col\">Name</th>\r\n            <th scope=\"col\">Price</th>\r\n            <th scope=\"col\">Inventory</th>\r\n            <th scope=\"col\">Units Sold</th>\r\n            <th scope=\"col\">Profit</th>\r\n            <th scope=\"col\"></th>\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n          {products.map((product,idx) => {\r\n            return <tr key={idx}>\r\n              <td>{product.id}</td>\r\n              <th>{product.heading}</th>\r\n              <td>{product.price}</td>\r\n              <td>{product.quantity}</td>\r\n              <td>{product.unitsSold}</td>\r\n              <td>${product.profit}</td>\r\n              <td className=\"text-end\">\r\n                <button className=\"btn btn-sm btn-outline-dark\">Edit</button>\r\n              </td>\r\n            </tr>\r\n          })}\r\n        </tbody>\r\n\r\n        <tfoot>\r\n          <tr>\r\n            <td></td><td></td><td></td><td></td>\r\n            <th scope=\"row\">Total:</th>\r\n            <td>${total}</td>\r\n            <td></td>\r\n          </tr>\r\n        </tfoot>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductList;","import { useEffect, useState } from \"react\";\r\n\r\nfunction TransactionsList(props) {\r\n\r\n  const [trans, setTrans] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // remove transactions that are marked BUYING\r\n    let transData = props.trans.filter(entry => entry.status === \"BOUGHT\");\r\n    // extend trans with product data\r\n    transData.forEach(entry => {\r\n      props.products.forEach(product => {\r\n        if (product.id === entry.productid) entry.productname = product.heading;\r\n      })\r\n    });\r\n    setTrans(transData);\r\n  },[props])\r\n\r\n  async function transSold(id) {\r\n    console.log(\"set transaction with id \" + id + \" to status SOLD\");\r\n    // SET transaction with id to sold\r\n    props.refreshData();\r\n  }\r\n\r\n  return(\r\n    <div className=\"admin-trans-list table-responsive\">\r\n      <h5>Ongoing Transactions</h5>\r\n      <table className=\"table table-sm\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">Transaction ID</th>\r\n            <th scope=\"col\">User ID</th>\r\n            <th scope=\"col\">Product ID</th>\r\n            <th scope=\"col\">Product Name</th>\r\n            <th scope=\"col\">Time of sale</th>\r\n            <th scope=\"col\"></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {trans.map(entry => \r\n            <tr key={entry.id}>\r\n              <td>{entry.id}</td>\r\n              <td>{entry.userid}</td>\r\n              <td>{entry.productid}</td>\r\n              <th>{entry.productname}</th>\r\n              <td>{new Date(entry.timestamp).toLocaleDateString()} {new Date(entry.timestamp).toLocaleTimeString()}</td>\r\n              <td className=\"text-end\"><button className=\"btn btn-sm btn-outline-dark\" onClick={() => transSold(entry.id)}>Delivery Sent</button></td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TransactionsList;","import { useEffect, useState } from 'react';\r\nimport { BarChart, XAxis, YAxis, Bar, Tooltip, Legend } from 'recharts';\r\n\r\nfunction Charts(props) {\r\n\r\n  const [transData, setTransData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let newData = [];\r\n    props.products.forEach(product => {\r\n      newData.push({ productid:product.id, bought:0, sold:0, cancelled:0 });\r\n    });\r\n    props.trans.forEach(entry => {\r\n      newData.forEach(data => {\r\n        if (data.productid === entry.productid && entry.status === \"BOUGHT\") data.bought++;\r\n        else if (data.productid === entry.productid && entry.status === \"SOLD\") data.sold++;\r\n        else if (data.productid === entry.productid && entry.status === \"CANCELLED\") data.cancelled++;\r\n      })\r\n    })\r\n    setTransData(newData);\r\n  }, [props])\r\n\r\n  return(\r\n    <div className=\"admin-charts\">\r\n      <h5 className=\"card-text\">Sales Info</h5>\r\n        <BarChart width={800} height={300} data={transData}>\r\n          <XAxis dataKey=\"productid\" tick={false} />\r\n          <YAxis />\r\n          <Tooltip />\r\n          <Legend />\r\n          <Bar dataKey=\"bought\" fill=\"#8884d8\" />\r\n          <Bar dataKey=\"sold\" fill=\"#82ca9d\" />\r\n          <Bar dataKey=\"cancelled\" fill=\"#ff2525\" />\r\n        </BarChart>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Charts;","import { useEffect, useState } from \"react\";\r\nimport AccessDenied from './AccessDenied';\r\nimport ProductList from './ProductList';\r\nimport TransactionsList from './TransactionsList';\r\nimport Charts from './Charts';\r\nimport './admin.css';\r\n\r\nfunction AdminPage() {\r\n\r\n  const [hasAccess, setAccess] = useState(false);\r\n  const [products, setProducts] = useState([]);\r\n  const [trans, setTrans] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // redirect if userID is not admin user\r\n    setAccess(true);\r\n    refreshData();\r\n  }, [])\r\n\r\n  async function refreshData() {\r\n    // fetch product info\r\n    const prodRes = await fetch(\"/api/products\").then(r => r.json());\r\n    if (prodRes.error) console.log(prodRes.error);\r\n    else setProducts(prodRes);\r\n    // fetch transaction info\r\n    const transRes = await fetch(\"/api/transactions\").then(r => r.json());\r\n    if (transRes.error) console.log(transRes.error);\r\n    else setTrans(transRes);\r\n  }\r\n\r\n  if (hasAccess) return(\r\n    <div className=\"admin-page card mt-3\">\r\n      <div className=\"card-header\">\r\n        <h4>Welcome Back [Admin]</h4>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <Charts products={products} trans={trans} />\r\n        <br/>\r\n        <ProductList products={products} trans={trans} />\r\n        <TransactionsList products={products} trans={trans} refreshData={refreshData} />\r\n      </div>\r\n    </div>\r\n  )\r\n  else return <AccessDenied />\r\n}\r\n\r\nexport default AdminPage;","import { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport { StoreProvider } from './components/GlobalStore';\r\nimport Navbar from './components/Navbar';\r\nimport NavbarExtension from './components/NavbarExtension';\r\nimport ShoppingCart from './components/ShoppingCart';\r\nimport Shop from './components/ShopPage';\r\nimport Register from './components/RegisterPage';\r\nimport Login from './components/LoginPage';\r\nimport ProductPage from './components/ProductPage';\r\nimport AdminPage from './components/AdminPage';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <StoreProvider>\r\n        <Router>\r\n          <Navbar />\r\n          <NavbarExtension />\r\n          <div className=\"container-lg\">\r\n            <Switch>\r\n              <Route exact path=\"/\"><Shop /></Route>\r\n              <Route path=\"/register\"><Register /></Route>\r\n              <Route path=\"/login\"><Login /></Route>\r\n              <Route path=\"/product/:id\"><ProductPage /></Route>\r\n              <Route path=\"/admin\"><AdminPage /></Route>\r\n            </Switch>\r\n          </div>\r\n          <ShoppingCart />\r\n          {/* <Footer /> */}\r\n        </Router>\r\n      </StoreProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}